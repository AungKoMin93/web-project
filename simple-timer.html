<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ten Mini Projects - Simple Timer</title>
    <link rel="shortcut icon" href="./image_192.PNG" type="image/x-icon">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">

</head>

<body class="bg-secondary-subtle d-flex flex-column align-items-center vh-100">

    <div class="card m-5 p-3" style="width: 500px;">
        <div class="card-body">
            <h1 class="card-title mb-3">Simple Timer</h1>
            <div class="row">
                <div class="col-4">
                    <p>Hour</p>
                    <input type="number" id="hour" class="form-control mb-3">
                </div>
                <div class="col-4">
                    <p>Minute</p>
                    <input type="number" id="minute" class="form-control mb-3" max="59">
                </div>
                <div class="col-4">
                    <p>Second</p>
                    <input type="number" id="second" class="form-control mb-3" max="59">
                </div>
                <div class="col-12">
                    <button class="btn btn-dark" id="start">Start</button>
                    <button class="btn btn-outline" id="stop">Stop</button>
                </div>
                <div class="col-12 p-5">
                    <h1 id="timer" class="text-center">00 : 00 : 00</h1>
                </div>
            </div>
            <a href="./index.html">Back</a>

        </div>
    </div>



    <script>

        const hour = document.getElementById('hour');
        const minute = document.getElementById('minute');
        const second = document.getElementById('second');

        var start = document.querySelector('#start');
        var stop = document.querySelector('#stop');


        start.addEventListener('click', () => {

            var t = (parseInt(hour.value, 10) || 0) * 3600 +
                (parseInt(minute.value, 10) || 0) * 60 +
                (parseInt(second.value, 10) || 0);

            let timer = setInterval(function () {
                let h = Math.floor(t / 3600);
                let m = Math.floor((t % 3600) / 60);
                let s = t % 60;
                document.getElementById('timer').innerHTML = formatTime(h) + " : " + formatTime(m) + " : " + formatTime(s);
                // console.log(`${h} : ${m} : ${s}`);
                t--;
                if (t < 0) {
                    clearInterval(timer);
                    document.getElementById('timer').innerHTML = "00 : 00 : 00";
                }
            }, 1000);

            stop.addEventListener('click', () => {
                clearInterval(timer);
                document.getElementById('timer').innerHTML = "00 : 00 : 00";
            })
        })

        const formatTime = (value) => {
            return value < 10 ? '0' + value : value;
        }


    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
        crossorigin="anonymous"></script>

</body>

</html>